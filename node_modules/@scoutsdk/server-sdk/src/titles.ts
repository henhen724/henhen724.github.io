import { graphQuery } from './comms'

export async function get(identifier: string) {
  return await graphQuery(
    `
    query Title($identifier: String) {
      title(identifier: $identifier) {
        id
        slug
        name
        boxArtUrl
        heroArtUrl
        platforms {
          name
          slug
        }
      }
    }
    `, { identifier }, (data: any) => data.title
  )
}

export async function list() {
  return await graphQuery(
    `
    query {
      titles {
        id
        slug
        name
        boxArtUrl
        heroArtUrl
        platforms {
          name
          slug
        }
      }
    }
    `, {}, (data: any) => data.titles
  )
}
