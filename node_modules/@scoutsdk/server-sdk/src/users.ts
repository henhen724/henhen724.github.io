import { graphQuery } from './comms'

export async function get(id: string) {
  return await graphQuery(
    `
    query User($id: String) {
      user(id: $id) {
        id
        email
        personas {
          id
          externalId
          handle
          pictureUrl
          countryCode
          region
          isVerified
          platform {
            slug
            name
          }
        }
      }
    }
    `, { id }, (data: any) => data.user
  )
}
